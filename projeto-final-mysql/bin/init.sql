CREATE DATABASE IF NOT EXISTS posweb_programacao1_mysql;

CREATE TABLE IF NOT EXISTS autores (
  id INT PRIMARY KEY AUTO_INCREMENT,
  nome VARCHAR(255) NOT NULL,
  nacionalidade VARCHAR(255)
) Engine=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS livros (
  id INT PRIMARY KEY AUTO_INCREMENT,
  nome VARCHAR(255) NOT NULL,
  editora VARCHAR(255),
  valor DECIMAL(10, 2),
  paginas INT,
  autor INT
) Engine=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

ALTER TABLE livros ADD CONSTRAINT `fk_livros__autor` FOREIGN KEY (autor) REFERENCES autores(id) ON DELETE SET NULL ON UPDATE CASCADE;

CREATE TABLE IF NOT EXISTS favoritos (
  id INT PRIMARY KEY AUTO_INCREMENT,
  nome VARCHAR(255),
  autor VARCHAR(255),
  ano INT
) Engine=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
